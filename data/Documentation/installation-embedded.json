{"text": "\n## Overview\n\nEmbedded Weaviate is a new deployment model, which allows you to start a Weaviate instance, straight in your application code using a Weaviate Client library.\n\nEmbedded Weaviate is still in the **Experimental** phase.\n\nSome of the APIs and parameters might change over time, as we refine and improve it.\n\n### How does it work?\n\nWith every Weaviate release we also publish executable Linux binaries (see the **Assets** section on the releases page).\n\nThis allows launching the Weaviate database server from the client instantiation call, which makes the \"installation\" step invisible by pushing it to the background:\n\n\n\n\n## Embedded options\n\nThe Weaviate server spawned from the client can be configured via parameters passed at instantiation time, and via environment variables. All parameters are optional.\n\n| Parameter | Type | Description | Default value |\n| --------- | ---- | ----------- | ------------- |\n| persistence_data_path | string | Directory where the files making up the database are stored. | When the `XDG_DATA_HOME` env variable is set, the default value is:`XDG_DATA_HOME/weaviate/`Otherwise it is:`~/.local/share/weaviate` |\n| binary_path | string | Directory where to download the binary. If deleted, the client will download the binary again. | When the `XDG_CACHE_HOME` env variable is set, the default value is:`XDG_CACHE_HOME/weaviate-embedded/`Otherwise it is:`~/.cache/weaviate-embedded` |\n| version | string | Version takes two types of input:- **version number** - for example `\"1.19.6\"` or `\"latest\"`- **full URL** pointing to a Linux AMD64 or ARM64 binary | Latest stable version |\n| port | integer | Which port the Weaviate server will listen to. Useful when running multiple instances in parallel. | 6666 |\n| hostname | string | Hostname/IP to bind to. | 127.0.0.1 |\n| additional_env_vars | key: value | Useful to pass additional environment variables to the server, such as API keys. |\n\nIt is **not recommended** to modify the `XDG_DATA_HOME` and `XDG_CACHE_HOME` environment variables from the standard **XDG Base Directory** values, as that might affect many other (non-Weaviate related) applications and services running on the same server.\n\nTo find the **full URL** for `version`:\n* head to Weaviate releases,\n* find the **Assets** section for the required Weaviate version\n* and copy the link to the `(name).tar.gz` file for the desired architecture.\n\nFor example, here is the URL of the Weaviate `1.19.6` `AMD64` binary: `https://github.com/weaviate/weaviate/releases/download/v1.19.6/weaviate-v1.19.6-linux-amd64.tar.gz`.\n\n### Default modules\n\nThe following modules are enabled by default:\n- `generative-openai`\n- `qna-openai`\n- `ref2vec-centroid`\n- `text2vec-cohere`\n- `text2vec-huggingface`\n- `text2vec-openai`\n\nAdditional modules can be enabled by setting additional environment variables as laid out above. For instance, to add a module called `backup-s3` to the set, you would pass it at instantiation as follows:\n\n\n  \n\n  ```python\n  import weaviate\n  from weaviate.embedded import EmbeddedOptions\n\n  client = weaviate.Client(\n      embedded_options=EmbeddedOptions(\n          additional_env_vars={\n          \"ENABLE_MODULES\":\n          \"backup-s3,text2vec-openai,text2vec-cohere,text2vec-huggingface,ref2vec-centroid,generative-openai,qna-openai\"}\n      )\n  )\n  ```\n\n  \n\n  \n\n  ```js\n  \n  const client = weaviate.client(\n    new EmbeddedOptions({\n      env: {\n        ENABLE_MODULES: \"backup-s3,text2vec-openai,text2vec-cohere,text2vec-huggingface,ref2vec-centroid,generative-openai,qna-openai\",\n      },\n    })\n  );\n  ```\n\n  \n\n\n\n## Starting Embedded Weaviate under the hood\n\nHere's what happens behind the scenes when the client uses the embedded options in the instantiation call:\n1. The client downloads a Weaviate release from GitHub and caches it\n2. It then spawns a Weaviate process with a data directory configured to a specific location, and listening to the specified port (by default 6666)\n3. The server's STDOUT and STDERR are piped to the client\n4. The client connects to this server process (e.g. to `http://127.0.0.1:6666`) and runs the client code\n5. After running the code (when the application terminates), the client shuts down the Weaviate process\n6. The data directory is preserved, so subsequent invocations have access to the data from all previous invocations, across all clients using the embedded option.\n\n### Lifecycle\n\nThe embedded instance will stay alive for as long as the parent application is running.\n\nWhen the application exits (e.g. due to an exception or by reaching the end of the script), Weaviate will shut down the embedded instance, but the data will persist.\n\nAn Embedded instance will stay alive for as long as the Jupyter notebook is active.\n\nThis is really useful, as it will let you experiment and work with your Weaviate projects and examples.\n\n## Supported Environments\n\n### Operating Systems\n\nEmbedded Weaviate is currently supported on:\n- Linux\n- macOS\n\n\n## Language Clients\n\n### Python\n\nPython client support was added in `v3.15.4` for Linux, and in `v3.21.0` for macOS.\n\n### TypeScript\n\nDue to use of server-side dependencies which are not available in the browser platform, the embedded TypeScript client has been split out into its own project. Therefore the original non-embedded TypeScript client can remain isomorphic.\n\nThe TypeScript embedded client simply extends the original TypeScript client, so once instantiated it can be used exactly the same way to interact with Weaviate. It can be installed with the following command:\n\n```\nnpm install weaviate-ts-embedded\n```\n\nmacOS support was added in `v1.2.0`.\n\nGitHub repositories:\n* TypeScript embedded client\n* Original TypeScript client\n\n\n\n\n\n", "type": "Documentation", "name": "installation-embedded", "path": "developers/weaviate/installation/embedded.md", "link": "https://weaviate.io/developers/weaviate/installation/embedded", "timestamp": "2023-11-13 10:40:46", "reader": "JSON", "meta": {}, "chunks": []}