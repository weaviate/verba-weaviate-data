{"text": "\n\n## Introduction\n\n- The `reranker-voyage` module enables reranking search results using a [Voyage AI reranker API](https://docs.voyageai.com/docs/reranker).\n- This module uses a third-party API and may incur costs. Make sure to check the [pricing page](https://docs.voyageai.com/docs/pricing) before applying reranking to large amounts of data.\n- You will need a Voyage AI API key. You can request one [here](https://www.voyageai.com/).\n\n- [How-to search: Rerank](../../search/rerank.md)\n\n## How to enable\n\n### Weaviate Cloud Services\n\nThis module is enabled by default on the WCS.\n\n### Weaviate open source\n\nAdd `reranker-voyageai` to the `ENABLE_MODULES` environment variable.\n\nBelow is an example Docker Compose file, which will spin up Weaviate with the `reranker-voyageai` module (as well as `text2vec-voyageai`).\n\n```yaml\n---\nversion: '3.4'\nservices:\n  weaviate:\n    command:\n    - --host\n    - 0.0.0.0\n    - --port\n    - '8080'\n    - --scheme\n    - http\n    image: cr.weaviate.io/semitechnologies/weaviate:||site.weaviate_version||\n    restart: on-failure:0\n    ports:\n     - 8080:8080\n     - 50051:50051\n    environment:\n      QUERY_DEFAULTS_LIMIT: 20\n      AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: 'true'\n      PERSISTENCE_DATA_PATH: \"./data\"\n      DEFAULT_VECTORIZER_MODULE: text2vec-voyageai\n      ENABLE_MODULES: text2vec-voyageai,reranker-voyageai\n      VOYAGEAI_APIKEY: sk-foobar # Setting this parameter is optional, you can also provide the API key at query time.\n      CLUSTER_HOSTNAME: 'node1'\n...\n```\n\n\n\n\n## Schema configuration\n\nThe `reranker-voyageai` module can be configured for any collection in the schema. You can also specify options such as the `model` to use.\n\n### Parameters\n\n| Parameter | Required | Default | Purpose |\n| :- | :- | :- | :- |\n| `model` | No | `rerank-lite-1` | The model to use. |\n| `baseURL` | No | `https://api.voyageai.com/v1` | Sets a proxy or other URL instead of the default URL.  Use a the protocol domain format: `https://your.domain.com`. |\n\nThis example configures the `Document` collection to use the `reranker-voyageai` module, with the `rerank-lite-1` model, and to return the documents in the response.\n\n```json\n{\n  \"classes\": [\n    {\n      \"class\": \"Document\",\n      ...,\n      \"moduleConfig\": {\n        \"reranker-voyageai\": {\n            \"model\": \"rerank-lite-1\",\n        },\n      }\n    }\n  ]\n}\n```\n\n### Reranker selection\n\nIf there is only one `reranker` module enabled, you don't need to do anything. The `reranker` module will be used by default.\n\nWhere multiple `reranker` modules are enabled, you must specify the reranker module to be used for each collection. You can do this by adding the desired reranker in the `moduleConfig` section of the schema, even without any further settings.\n\n\n  Set reranker for a collection\n\n```json\n{\n  \"classes\": [\n    {\n      \"class\": \"Document\",\n      ...,\n      \"moduleConfig\": {\n        \"reranker-voyageai\": {},  // This will configure the 'Document' collection to use the 'reranker-voyageai' module\n      }\n    }\n  ]\n}\n```\n\n\n\n### Model selection\n\nThe `reranker-voyageai` module supports the following models:\n\n- `rerank-lite-1`\n\n## Usage\n\n### Query-time parameters\n\nYou can supply parameters at query time by adding it to the HTTP header.\n\n| HTTP Header | Value | Purpose | Note |\n| :- | :- | :- | :- |\n| `\"X-VoyageAI-Api-Key\"` | `\"YOUR-VOYAGEAI-API-KEY\"` | Voyage AI API key | |\n| `\"X-VoyageAI-BaseURL\"` | `\"YOUR-VOYAGEAI-BASE-URL\"` | Voyage AI base URL | Use the protocol domain format: `https://your.domain.com`.  If specified, this will have precedence over the class-level setting. |\n\n### Queries\n\n* Using this module will enable the [`rerank` GraphQL _additional property](../../api/graphql/additional-properties.md#rerank).\n* For usage examples, see the [Howto: Search - Reranking](../../search/rerank.md) page.\n\n\n\n\n", "type": "Documentation", "name": "Retriever-vectorizer-modules Reranker-voyageai", "path": "developers/weaviate/modules/retriever-vectorizer-modules/reranker-voyageai.md", "link": "https://weaviate.io/developers/weaviate/modules/retriever-vectorizer-modules/reranker-voyageai", "timestamp": "2024-05-08 10:50:31", "reader": "JSON", "meta": {}, "chunks": []}