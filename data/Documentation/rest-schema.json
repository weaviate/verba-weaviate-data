{"text": "\n\n- How-to - Manage Collections\n- References - Configuration: Schema.\n\n## Overview\n\nThe `schema` endpoint is for creating, reading, updating and deleting collections (also called collections) and properties. The overall configuration is referred to as the schema.\n\n## Get the schema\n\nThe response will contain an array of objects.\n\n### Method and URL\n\n```js\nGET /v1/schema\n```\n\n### Example request\n\n\n\n\n\n  Example response\n\n```json\n{\n  \"classes\": [\n    {\n      \"class\": \"Category\",\n      \"description\": \"Category an article is a type off\",\n      \"moduleConfig\": {\n        \"text2vec-contextionary\": {\n          \"vectorizeClassName\": false\n        }\n      },\n      \"properties\": [\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"category name\",\n          \"indexFilterable\": true,\n          \"indexSearchable\": true,\n          \"moduleConfig\": {\n            \"text2vec-contextionary\": {\n              \"vectorizePropertyName\": false\n            }\n          },\n          \"name\": \"name\"\n        }\n      ],\n      \"vectorIndexType\": \"hnsw\",\n      \"vectorizer\": \"none\"\n    },\n    {\n      \"class\": \"Publication\",\n      \"description\": \"A publication with an online source\",\n      \"moduleConfig\": {\n        \"text2vec-contextionary\": {\n          \"vectorizeClassName\": false\n        }\n      },\n      \"properties\": [\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"Name of the publication\",\n          \"name\": \"name\"\n        },\n        {\n          \"dataType\": [\n            \"geoCoordinates\"\n          ],\n          \"description\": \"Geo location of the HQ\",\n          \"name\": \"headquartersGeoLocation\"\n        },\n        {\n          \"dataType\": [\n            \"Article\"\n          ],\n          \"description\": \"The articles this publication has\",\n          \"name\": \"hasArticles\"\n        },\n        {\n          \"dataType\": [\n            \"Article\"\n          ],\n          \"description\": \"Articles this author wrote\",\n          \"name\": \"wroteArticles\"\n        }\n      ],\n      \"vectorIndexType\": \"hnsw\",\n      \"vectorizer\": \"none\"\n    },\n    {\n      \"class\": \"Author\",\n      \"description\": \"Normalised types\",\n      \"moduleConfig\": {\n        \"text2vec-contextionary\": {\n          \"vectorizeClassName\": true\n        }\n      },\n      \"properties\": [\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"Name of the author\",\n          \"name\": \"name\"\n        },\n        {\n          \"dataType\": [\n            \"Publication\"\n          ],\n          \"description\": \"The publication this author writes for\",\n          \"name\": \"writesFor\"\n        }\n      ],\n      \"vectorIndexType\": \"hnsw\",\n      \"vectorizer\": \"none\"\n    },\n    {\n      \"class\": \"Article\",\n      \"description\": \"Normalised types\",\n      \"moduleConfig\": {\n        \"text2vec-contextionary\": {\n          \"vectorizeClassName\": false\n        }\n      },\n      \"properties\": [\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"title of the article\",\n          \"indexFilterable\": true,\n          \"indexSearchable\": true,\n          \"moduleConfig\": {\n            \"text2vec-contextionary\": {\n              \"vectorizePropertyName\": false\n            }\n          },\n          \"name\": \"title\"\n        },\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"url of the article\",\n          \"indexFilterable\": true,\n          \"indexSearchable\": false,\n          \"moduleConfig\": {\n            \"text2vec-contextionary\": {\n              \"vectorizePropertyName\": false\n            }\n          },\n          \"name\": \"url\"\n        },\n        {\n          \"dataType\": [\n            \"text\"\n          ],\n          \"description\": \"summary of the article\",\n          \"indexFilterable\": true,\n          \"indexSearchable\": true,\n          \"moduleConfig\": {\n            \"text2vec-contextionary\": {\n              \"vectorizePropertyName\": false\n            }\n          },\n          \"name\": \"summary\"\n        },\n        {\n          \"dataType\": [\n            \"date\"\n          ],\n          \"description\": \"date of publication of the article\",\n          \"name\": \"publicationDate\"\n        },\n        {\n          \"dataType\": [\n            \"int\"\n          ],\n          \"description\": \"Words in this article\",\n          \"name\": \"wordCount\"\n        },\n        {\n          \"dataType\": [\n            \"Author\",\n            \"Publication\"\n          ],\n          \"description\": \"authors this article has\",\n          \"name\": \"hasAuthors\"\n        },\n        {\n          \"dataType\": [\n            \"Publication\"\n          ],\n          \"description\": \"publication this article is in\",\n          \"name\": \"inPublication\"\n        },\n        {\n          \"dataType\": [\n            \"Category\"\n          ],\n          \"description\": \"category this article is of\",\n          \"name\": \"ofCategory\"\n        },\n        {\n          \"dataType\": [\n            \"boolean\"\n          ],\n          \"description\": \"whether the article is currently accessible through the url\",\n          \"name\": \"isAccessible\"\n        }\n      ],\n      \"vectorIndexType\": \"hnsw\",\n      \"vectorizer\": \"none\"\n    }\n  ]\n}\n```\n\n\n\n## Create a collection\n\nCreate a new data object collection in the schema.\n\nFrom `v1.5.0` onwards, manual creation of a schema is optional. Learn more about Auto Schema.\n\n### Method and URL\n\n```js\nPOST /v1/schema\n```\n\n### Parameters\n\nFor more details on these parameters, see the schema configuration reference page.\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `class` | body | string | The name of the collection (a.k.a. class). Multiple words should be concatenated in CamelCase, e.g. `ArticleAuthor`. |\n| `description` | body | string | Description of the collection. |\n| `vectorizer` | body | string | Vectorizer to use for data objects added to this collection. Default can be set via Weaviate environment variables. |\n| `vectorIndexType` | body | string | Vector index type. Defaults to hnsw. |\n| `vectorIndexConfig` | body | object | Vector index type specific settings. See the vector index configuration page for more details. |\n| `moduleConfig` > ``  > `vectorizeClassName` | body | boolean | Include the collection name in vector calculation (default true). Learn more about semantic indexing in Weaviate. |\n| `properties` | body | array | An array of property objects. |\n| `properties` > `name` | body | string | The name of the property. Multiple words should be concatenated in camelCase, e.g. `nameOfAuthor`. |\n| `properties` > `dataType` | body | array | See the available data types. |\n| `properties` > `description` | body | string | Description of the property. |\n| `properties` > `moduleConfig`  > `` > `skip` | body | boolean | If true, the whole property will NOT be included in vectorization. Default is false, meaning that the object will be NOT be skipped. |\n| `properties` > `moduleConfig`  > `` > `vectorizePropertyName` | body | boolean | Whether the name of the property is used in the calculation for the vector position of data objects. Default is true. Learn more about semantic indexing in Weaviate. |\n| `properties` > `indexFilterable` (available from `v1.19`) | body | boolean | Should the data stored in this property be indexed with the filterable, Roaring Bitmap index? Read more about indexing in Weaviate. |\n| `properties` > `indexSearchable` (available from `v1.19`) | body | boolean | Should the data stored in this property be indexed to allow BM25/hybrid-search index? Read more on how to configure indexing in Weaviate. |\n| `properties` > `tokenization` | body | string | Only for `string`/`text` props. Introduced in `v1.12.0`. Control how a field is tokenized in the inverted index. Defaults to `\"word\"`, can be set to `\"field\"`. Learn more about property tokenization.|\n| `invertedIndexConfig` > `bm25` > `b` | body | float | `b` parameter for `BM25` searches. Default: 0.75 |\n| `invertedIndexConfig` > `bm25` > `k1` | body | float | `k1` parameter for `BM25` searches. Default: 1.2 |\n| `invertedIndexConfig` > `stopwords` | body | object | Configure stopword behavior. See more details here. |\n| `invertedIndexConfig` > `indexTimestamps` | body | boolean | Maintain an inverted index for each object by its internal timestamps, currently including `creationTimeUnix` and `lastUpdateTimeUnix`.See more details here. |\n| `invertedIndexConfig` > `indexNullState` | body | boolean | Index null values to allow filtering. |\n| `invertedIndexConfig` > `indexPropertyLength` | body | boolean | Index property lengths to allow filtering. |\n| `shardingConfig` | body | object | Sharding specific settings. See the schema configuration reference page for more details. |\n| `replicationConfig` > `factor` | body | int | The replication factor, aka the number of copies in a replicated Weaviate setup. |\n| `multiTenancyConfig` > `enabled` | body | Boolean | Whether to enable multi-tenancy for this collection. (Defaults to `false`.) |\n\n### Example request for creating a collection\n\nYou can specify as few parameters as the collection name.\n\n\n\n\nOr you can manually specify any number of the possible parameters:\n\n\n\n\n\n## Get a single collection from the schema\n\nRetrieves the configuration of a single collection in the schema.\n\n### Method and URL\n\n```js\nGET /v1/schema/{collection_name}\n```\n\n### Example request\n\n\n\n\n## Delete a collection\n\nRemove a collection (and all its data objects).\n\n### Method and URL\n\n```js\nDELETE v1/schema/{collection_name}\n```\n\n### URL parameters\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `{collection_name}` | path | string | The name of the collection |\n\n### Example request for deleting a collection\n\n\n\n\n## Update a collection\n\nUpdate settings of an existing collection. Use this endpoint to alter an existing collection in the schema.\n\n\n- Please note that not all settings are mutable.\n- To update any other (i.e. immutable) setting, you need to delete the collection, re-create it with the correct setting and then re-import the data.\n\n\n  The list of mutable settings\n\n- `description`\n- `invertedIndexConfig`\n  - `bm25`\n    - `b`\n    - `k1`\n  - `cleanupIntervalSeconds`\n  - `stopwords`\n    - `additions`\n    - `preset`\n    - `removals`\n- `replicationConfig`\n  - `factor`\n- `vectorIndexConfig`\n  - `dynamicEfFactor`\n  - `dynamicEfMin`\n  - `dynamicEfMax`\n  - `flatSearchCutoff`\n  - `skip`\n  - `vectorCacheMaxObjects`\n  - `pq`\n    - `bitCompression`\n    - `centroids`\n    - `enabled`\n    - `segments`\n    - `trainingLimit`\n    - `encoder`\n      - `type`\n      - `distribution`\n\n\n\n\nThis endpoint cannot be used to introduce additional properties. For this, use `POST /v1/schema/{collection_name}/properties`. A typical use case for this endpoint is to update configuration, such as `vectorIndexConfig/dynamicEfFactor` or `vectorIndexConfig/pq/bitCompression`. Note that even in mutable sections, such as `vectorIndexConfig`, some fields may be immutable.\n\nYou should attach a body to this PUT request with the **entire** new configuration of the collection.\n\n### Method and URL\n\n```js\nPUT v1/schema/{collection_name}\n```\n\n### Parameters\n\nThe URL must contain the following parameter:\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `{collection_name}` | path | string | The name of the collection |\n\nParameters in the PUT body:\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `class` | body | string | The name of the collection (a.k.a. class). Multiple words should be concatenated in CamelCase, e.g. `ArticleAuthor`. |\n| `description` | body | string | Description of the collection. |\n| `vectorIndexConfig` | body | object | Vector index type specific settings. See the vector index configuration page for more details. |\n| `invertedIndexConfig` > `bm25` > `b` | body | float | `b` parameter for `BM25` searches. Default: 0.75 |\n| `invertedIndexConfig` > `bm25` > `k1` | body | float | `k1` parameter for `BM25` searches. Default: 1.2 |\n| `invertedIndexConfig` > `stopwords` | body | object | Configure stopword behavior. See more details here. |\n| `replicationConfig` > `factor` | body | int | The replication factor, aka the number of copies in a replicated Weaviate setup. |\n\n#### Example request for updating a collection\n\n\n\n\n## Add a property\n\n\nAdding a property after importing objects can lead to limitations in inverted-index related behavior.\n\n\n\nThis is caused by the inverted index being built at import time. If you add a property after importing objects, the inverted index will not be updated. This means that the new property will not be indexed for existing objects. This can lead to unexpected behavior when querying.\n\n\n\nTo avoid this, you can either:\n- Add the property before importing objects.\n- Delete the collection, re-create it with the new property and then re-import the data.\n\nWe are working on a re-indexing API to allow you to re-index the data after adding a property. This will be available in a future release.\n\n\n### Method and URL\n\n```js\nPOST v1/schema/{collection_name}/properties\n```\n\n### Parameters\n\n| Name | Location | Type | Description |\n| ---- | -------- | -----| ----------- |\n| `dataType` | body | array | An available data type. |\n| `description` | body | string | Description of the property. |\n| `moduleConfig`  > `` > `skip` | body | boolean | If true, the whole property will NOT be included in vectorization. Default is false, meaning that the object will be NOT be skipped. |\n| `moduleConfig`  > `` > `vectorizePropertyName` | body | boolean | Whether the name of the property is used in the calculation for the vector position of data objects. Default is true. Learn more about how to configure indexing in Weaviate. |\n| `name` | body | string | The name of the property. Multiple words should be concatenated in camelCase like `nameOfAuthor`. |\n| `indexFilterable` (available from `v1.19`) | body | boolean | Should the data stored in this property be indexed with the filterable, Roaring Bitmap index? Read more about indexing in Weaviate. |\n| `indexSearchable` (available from `v1.19`) | body | boolean | Should the data stored in this property be indexed to allow BM25/hybrid-search index? Read more about indexing in Weaviate. |\n| `indexInverted` (deprecated) | body | boolean | Should the data stored in this property be indexed? Learn more about indexing in Weaviate. |\n\n### Example request for adding a property\n\n\n\n\n## Inspect the shards of a collection\n\nAs described in Architecture > Storage, creation of a collection leads to creating an index which manages all the disk storage and vector indexing. An index itself can be comprised of multiple shards. If a collection index is used on multiple nodes of a multi-node Weaviate cluster there must be at least one shard per node.\n\nYou can view a list of all shards for a particular collection:\n\n### Method and URL\n\nThis API was added in `v1.12.0`.\n\n```js\nGET v1/schema/{collection_name}/shards\n```\n\n### Parameters\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `{collection_name}` | URL path | string | The name of the collection |\n\n### Example request viewing shards of a collection\n\n\n\n\n## Update shard status\n\nA shard may have been marked as read-only, for example because the disk was full. You can manually set a shard to `READY` again using the following API. There is also a convenience function in each client to set the status of all shards of a collection.\n\n### Method and URL\n\nThis API was added in `v1.12.0`\n\n```js\nPUT v1/schema/{collection_name}/shards/{shard_name}\n```\n\n### Parameters\n\n| Name | Location | Type | Description |\n| ---- | -------- | ---- | ----------- |\n| `{collection_name}` | URL path | string | The name of the collection. |\n| `{shard_name}` | URL path | string | The name/id of the shard. |\n| `status` | body | string | The status to update the shard to. One of `READONLY`, `READY`. |\n\n### Example requests to update the status of a shard\n\n\n\n\n## Multi-tenancy\n\n\n\n- Multi-tenancy available from version `v1.20`\n- (Experimental) Tenant activity status setting available from version `v1.21`\n\n- How-to manage data: Multi-tenancy operations\n- Concepts: Data structure: Multi-tenancy\n\nTenants are used to separate data between different users or groups of users. They can be specified as follows:\n\n### Enable multi-tenancy\n\n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n\n### Add tenant(s)\n\nPass a payload with an array of tenant objects. The available fields are:\n\n| Name | Type | Description |\n| ---- | ---- | ----------- |\n| `name` | string | (Required) The name of the tenant. |\n| `activityStatus` | string | (Optional, experimental) The activity status of the tenant. Can be `HOT` (default) or `COLD`. |\n\n#### Example payload\n\n```\n[\n  {\n    \"name\": \"TENANT_A\"\n  },\n  {\n    \"name\": \"TENANT_B\",\n    \"activityStatus\": \"COLD\"\n  }\n]\n```\n\n\n\n\n```js\nPOST v1/schema/{collection_name}/tenants\n```\n\n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n\n### List tenants\n\n```js\nGET v1/schema/{collection_name}/tenants\n```\n\n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n\n### Remove tenants\n\nPass a payload with an array of tenant names in the form of `[\"TENANT_NAME1\", \"TENANT_NAME2\"]` to remove from the collection.\n\n```js\nDELETE v1/schema/{collection_name}/tenants\n```\n\n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n  \n    \n  \n\n\n\n### Update tenants\n\n```js\nPUT v1/schema/{collection_name}/tenants\n```\n\nPass a payload with an array of tenant objects. For updating tenants, both `name` and `activityStatus` are required.\n\n#### Example payload\n\n```\n[\n  {\n    \"name\": \"TENANT_A\",\n    \"activityStatus\": \"COLD\"\n  },\n  {\n    \"name\": \"TENANT_B\",\n    \"activityStatus\": \"HOT\"\n  }\n]\n```\n\n\n  \n    \n  \n\n\n\n\n\n", "type": "Documentation", "name": "rest-schema", "path": "developers/weaviate/api/rest/schema.md", "link": "https://weaviate.io/developers/weaviate/api/rest/schema", "timestamp": "2024-02-08 20:22:21", "reader": "JSON", "meta": {}, "chunks": []}