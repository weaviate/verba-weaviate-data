{"text": "\n\n## Overview\n\nYou can use Google Cloud Marketplace to directly launch a Weaviate cluster.\n\n- A Google Cloud account with sufficient credit / payment method.\n- (Recommended) Familiarity with Google Cloud and the Google Cloud console.\n\n## Installation instructions\n\nBroadly, the steps are as follows:\n\n1. Go to Weaviate's Google Cloud Marketplace listing page and click Configure.\n1. Configure and deploy Weaviate by following the on-screen instructions.\n\n\n\nWe go through these steps in detail below.\n\n### Configuration options\n\n\n\n\n#### Suggested configurations\n\n- The default values for settings such as `Global Query limit`, `Modules` and `Storage Size` should be suitable for a majority of cases.\n- `Storage size`: For production environments, at least 500GB per pod is recommended. (Smaller disks may be sufficient for dev environments.)\n\n\n\nOnce you are at the deployment page, you should see a set of options.\n\nYou will need to:\n1. Select a GKE cluster to deploy Weaviate to.\n    1. Optionally, you can create a new cluster and then specify it.\n1. Set the `namespace` (for dividing cluster resources) and a unique `app instance name` for identifying the application.\n1. Set the app instance name.\n1. Set the service account for billing.\n1. Set Weaviate parameters, such as `Replicas of Weaviate Instances`, `Global Query Limit`, `Enable Modules` and `Storage Size`.\n    \n1. If you agree, accept the terms of service and click Deploy.\n\nOnce you have done so, Weaviate will be deployed to the selected cluster. This should take a few minutes.\n\n## Accessing the cluster\n\nOnce the application has been created, you can access the cluster through the load balancer.\n\nYou can interact with the cluster using `kubectl`, or through the Weaviate API. We show examples below.\n\n### Interaction using `kubectl`\n\nYou can run the following command which will update or create a kubeconfig file for the Weaviate cluster:\n\n```\ngcloud container clusters get-credentials [YOUR_CLUSTER_NAME] --zone [YOUR_GC_ZONE] --project [YOUR_GC_PROJECT]\n```\n\nThe exact command can be found in the Kubernetes Engine page, by clicking on the vertical ellipsis (  ) for your cluster, and clicking Connect.\n\nOnce that's set up, you can run `kubectl` commands as usual. For example\n- `kubectl get pods -n default` to list all pods in the `default` namespace (or whatever namespace you specified).\n- `kubectl get svc --all-namespaces` to list all services in all namespaces.\n\n\n  Example output\n\nAn example output of `kubectl get svc --all-namespaces` is:\n\n```bash\nNAMESPACE            NAME                                     TYPE           CLUSTER-IP     EXTERNAL-IP    PORT(S)            AGE\napplication-system   application-controller-manager-service   ClusterIP      10.24.8.231             443/TCP            11m\ndefault              kubernetes                               ClusterIP      10.24.0.1               443/TCP            11m\ndefault              weaviate                                 LoadBalancer   10.24.13.245   34.173.96.14   80:30664/TCP       8m38s\ndefault              weaviate-headless                        ClusterIP      None                    80/TCP             8m38s\ngmp-system           alertmanager                             ClusterIP      None                    9093/TCP           10m\ngmp-system           gmp-operator                             ClusterIP      10.24.12.8              8443/TCP,443/TCP   10m\nkalm-system          kalm-controller-manager-service          ClusterIP      10.24.7.189             443/TCP            11m\nkube-system          default-http-backend                     NodePort       10.24.12.61             80:32508/TCP       10m\nkube-system          kube-dns                                 ClusterIP      10.24.0.10              53/UDP,53/TCP      11m\nkube-system          metrics-server                           ClusterIP      10.24.13.204            443/TCP\n```\n\nHere, the externally accessible Weaviate IP is `34.173.96.14`.\n\n\n\n### Finding the Weaviate URL\n\nOnce the application has been created, you can access Weaviate via the load balancer URL.\n\nYou can find the Weaviate endpoint URL by any of:\n- Going to the `Kubernetes Engine` section of Google Cloud, under `Service & Ingress`. Find the load balancer, and look for the `Endpoints` column.\n- Running `kubectl get svc -n [YOUR_NAMESPACE_NAME]` and looking for the `EXTERNAL-IP` of the `weaviate` service.\nThe load balancer URL (e.g. `34.38.6.240`) will be the Weaviate URL (e.g. `http://34.38.6.240`).\n\n## Removing Weaviate and the cluster\n\nPlease make sure that all unused resources are deleted. You will continue to incur costs for any remaining resources.\n\n### Removing Weaviate\n\nTo remove Weaviate and the associated services, go to the `Applications` section of `Kubernetes Engine` in Google Cloud, and delete the Weaviate deployment.\n\nReview the `Services & Ingress` section as well as the `Storage` section to ensure that all associated services and storage are removed. You may need to delete any remaining resources manually.\n\n### Removing the cluster\n\nIf you no longer require the cluster (e.g. if you created a new cluster for Weaviate), you can delete the cluster by going to the `Applications` section of `Kubernetes Engine` in Google Cloud. Delete the cluster by selecting it from the list, clicking DELETE, and following the prompts.\n\n## Billing\n\nYou will be charged for Weaviate and associated resources directly by Google Cloud.\n\nThis will, for example, include the compute instances, volumes, and any other resources used by the cluster.\n\n\n\n\n\n", "type": "Documentation", "name": "installation-gc-marketplace", "path": "developers/weaviate/installation/gc-marketplace.md", "link": "https://weaviate.io/developers/weaviate/installation/gc-marketplace", "timestamp": "2023-11-13 10:40:47", "reader": "JSON", "meta": {}, "chunks": []}