{"text": "\n\n- Concepts: Replication Architecture\n\nWeaviate instances can be replicated to increase availability and read throughput, and to enable zero-downtime upgrades. On this page, you will learn how to set replication for your Weaviate instance.\n\nFor more about how replication is designed and built in Weaviate, see the Replication Architecture pages.\n\n## How to configure: Schema\n\nReplication is disabled by default and can be enabled per data class in the schema. This means you can set different replication factors per class in your dataset. To enable replication on a class, the replication factor has to be set, which looks like the following:\n\n\n```yaml\n{\n  \"class\": \"ExampleClass\",\n  \"properties\": [\n    {\n      \"name\": \"exampleProperty\",\n      \"dataType\": [\n        \"text\"\n      ]\n    }\n  ],\n  # highlight-start\n  \"replicationConfig\": {\n    \"factor\": 3   # Integer, default 1. How many copies of this class will be stored.\n  }\n  # highlight-end\n}\n```\n\nHere's an example for all clients:\n\n\n\n\nWhen you set this replication factor in the data schema before you add data, you will have 3 replicas of the data stored. Weaviate can also handle changing this setting after you imported the data. Then the data is copied to the new replica nodes (if there are enough nodes), but note that this is experimental and will be more stable in the future.\n\nChanging the replication factor after adding data is an **experimental feature** as of v1.17 and will become more stable in the future.\n\nThe data schema has a write consistency level of `ALL`, which means when you upload or update a schema, this will be sent to `ALL` nodes (via a coordinator node). The coordinator node waits for a successful acknowledgement from `ALL` nodes before sending a success message back to the client. This ensures a highly consistent schema in your distributed Weaviate setup.\n\n\n## How to use: Queries\n\nWhen you add (write) or query (read) data, one or more replica nodes in the cluster will respond to the request. How many nodes need to send a successful response and acknowledgement to the coordinator node depends on the `consistency_level`. Available consistency levels are `ONE`, `QUORUM` (replication_factor / 2 + 1) and `ALL`.\n\nThe `consistency_level` can be specified at query time:\n\n```bash\n# Get an object by ID, with consistency level ONE\ncurl /v1/objects/{ClassName}/{id}?consistency_level=ONE\n```\n\nIn v1.17, only read queries that get data by ID had a tunable consistency level. All other object-specific REST endpoints (read or write) used the consistency level `ALL`. Starting with v1.18, all write and read queries are tunable to either `ONE`, `QUORUM` (default) or `ALL`. GraphQL endpoints use the consistency level `ONE` (in both versions).\n\n\n\n\n\n\n\n\n", "type": "Documentation", "name": "configuration-replication", "path": "developers/weaviate/configuration/replication.md", "link": "https://weaviate.io/developers/weaviate/configuration/replication", "timestamp": "2023-11-13 10:40:43", "reader": "JSON", "meta": {}, "chunks": []}