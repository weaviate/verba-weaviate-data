{"text": "\n\n## In short\n\n* The Spell Check module is a Weaviate module for spell checking of raw text in GraphQL queries.\n* The module depends on a Python spellchecking library.\n* The module adds a `spellCheck {}` filter to the GraphQL `nearText {}` search arguments.\n* The module returns the spelling check result in the GraphQL `_additional { spellCheck {} }` field.\n\n## Introduction\n\nThe Spell Check module is a Weaviate module for checking spelling in raw texts in GraphQL query inputs. Using the [Python spellchecker](https://pypi.org/project/pyspellchecker/) library, the module analyzes text, gives a suggestion and can force an autocorrection.\n\n## How to enable (module configuration)\n\n### Docker Compose\n\nThe Spell Check module can be added as a service to the Docker Compose file. You must have a text vectorizer like `text2vec-contextionary` or `text2vec-transformers` running. An example Docker Compose file for using the `text-spellcheck` module with the `text2vec-contextionary` is here:\n\n```yaml\n---\nversion: '3.4'\nservices:\n  weaviate:\n    command:\n    - --host\n    - 0.0.0.0\n    - --port\n    - '8080'\n    - --scheme\n    - http\n    image: cr.weaviate.io/semitechnologies/weaviate:||site.weaviate_version||\n    ports:\n    - 8080:8080\n    - 50051:50051\n    restart: on-failure:0\n    environment:\n      CONTEXTIONARY_URL: contextionary:9999\n      SPELLCHECK_INFERENCE_API: \"http://text-spellcheck:8080\"\n      QUERY_DEFAULTS_LIMIT: 25\n      AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: 'true'\n      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'\n      DEFAULT_VECTORIZER_MODULE: 'text2vec-contextionary'\n      ENABLE_MODULES: 'text2vec-contextionary,text-spellcheck'\n      CLUSTER_HOSTNAME: 'node1'\n  contextionary:\n    environment:\n      OCCURRENCE_WEIGHT_LINEAR_FACTOR: 0.75\n      EXTENSIONS_STORAGE_MODE: weaviate\n      EXTENSIONS_STORAGE_ORIGIN: http://weaviate:8080\n      NEIGHBOR_OCCURRENCE_IGNORE_PERCENTILE: 5\n      ENABLE_COMPOUND_SPLITTING: 'false'\n    image: cr.weaviate.io/semitechnologies/contextionary:en0.16.0-v1.0.2\n    ports:\n    - 9999:9999\n  text-spellcheck:\n    image: cr.weaviate.io/semitechnologies/text-spellcheck-model:pyspellchecker-d933122\n...\n```\n\nVariable explanations:\n* `SPELLCHECK_INFERENCE_API`: where the spellcheck module is running\n\n## How to use (GraphQL)\n\nUse the spellchecker module to verify at query time that user-provided search queries are spelled correctly and even suggest alternative, correct spellings. Filters that accept query text include:\n\n* [`nearText`](/developers/weaviate/api/graphql/search-operators.md#neartext), if a `text2vec-*` module is used\n* `ask`, if the [`qna-transformers`](../reader-generator-modules/qna-transformers.md) module is enabled\n\nThere are two ways to use this module: spell checking, and autocorrection.\n\n### Spell checking\n\nThe module provides a new GraphQL `_additional` property which can be used to check (but not alter) the provided queries.\n\n#### Example query\n\n\n\n#### GraphQL response\n\nThe result is contained in a new GraphQL `_additional` property called `spellCheck`. It contains the following fields:\n* `changes`: a list with the following fields:\n  * `corrected` (`string`): the corrected spelling if a correction is found\n  * `original` (`string`): the original word in the query\n* `didYouMean`: the corrected full text in the query\n* `originalText`: the original full text in the query\n* `location`: the location of the misspelled string in the query\n\n#### Example response\n\n```json\n{\n  \"data\": {\n    \"Get\": {\n      \"Article\": [\n        {\n          \"_additional\": {\n            \"spellCheck\": [\n              {\n                \"changes\": [\n                  {\n                    \"corrected\": \"housing\",\n                    \"original\": \"houssing\"\n                  }\n                ],\n                \"didYouMean\": \"housing prices\",\n                \"location\": \"nearText.concepts[0]\",\n                \"originalText\": \"houssing prices\"\n              }\n            ]\n          },\n          \"title\": \"...\"\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}\n```\n\n### Autocorrect\n\nThe module extends existing `text2vec-*` modules with an `autoCorrect` flag, which can be used to automatically correct the query if it was misspelled:\n\n#### Example query\n\n```graphql\n{\n  Get {\n    Article(nearText: {\n      concepts: [\"houssing prices\"],\n      autocorrect: true\n    }) {\n      title\n      _additional {\n        spellCheck {\n          changes {\n            corrected\n            original\n          }\n          didYouMean\n          location\n          originalText\n        }\n      }\n    }\n  }\n}\n```\n\n\n\n", "type": "Documentation", "name": "Other-modules Spellcheck", "path": "developers/weaviate/modules/other-modules/spellcheck.md", "link": "https://weaviate.io/developers/weaviate/modules/other-modules/spellcheck", "timestamp": "2024-05-08 10:50:18", "reader": "JSON", "meta": {}, "chunks": []}